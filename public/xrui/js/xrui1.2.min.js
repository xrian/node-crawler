var maskIsHide=true;$('body').on('touchmove',function(e){if(!maskIsHide){console.log(!maskIsHide);e.preventDefault()}});function xrModalShow(name){if("xr_dialog_alert"==name){$('body').append('<div class="xr_dialog_alert" id="xr_dialog_alert" style="display: none;"><div class="xr_mask"></div><div class="xr_dialog"><div class="xr_dialog_hd"><strong class="xr_dialog_title">提醒</strong></div><div class="xr_dialog_bd"></div><div class="xr_dialog_ft"><a href="javascript:;" class="xr_btn_dialog xrprimary">确定</a></div></div></div>')}else if("xr_dialog_confirm"==name){$('body').append('<div class="xr_dialog_confirm" id="xr_dialog_confirm" style="display: none;"><div class="xr_mask"></div><div class="xr_dialog"><div class="xr_dialog_hd"><strong class="xr_dialog_title">确定</strong></div><div class="xr_dialog_bd"></div><div class="xr_dialog_ft"><a href="javascript:;" class="xr_btn_dialog xrdefault">取消</a><a href="javascript:;" class="xr_btn_dialog xrprimary">确定</a></div></div></div>')}else if("xr_more_confirm"==name){$('body').append('<div class="xr_more_confirm" id="xr_more_confirm" style="display: none"><div class="xr_mask"></div><div class="xr_dialog2"><div class="xr_tip"><div class="xr_msg"></div></div><div class="xr_btns"><div class="xr_btn_cancel">取消</div></div></div></div>')}}function xrConfirm(obj){maskIsHide=false;xrModalShow('xr_dialog_confirm');$('.xr_dialog_confirm .xr_dialog .xr_dialog_bd').html(obj.msg);if(typeof obj.hdMsg!="undefined"&&""!=obj.hdMsg){$('.xr_dialog_confirm .xr_dialog .xr_dialog_hd').show();$('.xr_dialog_confirm .xr_dialog .xr_dialog_hd .xr_dialog_title').html(obj.hdMsg)}else{$('.xr_dialog_confirm .xr_dialog .xr_dialog_hd').hide()}if(typeof obj.sureObj!="undefined"){obj.sureObj.text&&$('.xr_dialog_confirm .xr_dialog_ft .xrprimary').text(obj.sureObj.text);obj.sureObj.class&&$('.xr_dialog_confirm .xr_dialog_ft .xrprimary').addClass(obj.sureObj.class);obj.sureObj.msgClass&&$('.xr_dialog_confirm .xr_dialog .xr_dialog_bd').addClass(obj.sureObj.msgClass)}if(typeof closeObj!="undefined"){obj.sureObj.text&&$('.xr_dialog_confirm .xr_dialog_ft .xrdefault').text(obj.sureObj.text);obj.sureObj.class&&$('.xr_dialog_confirm .xr_dialog_ft .xrdefault').addClass(obj.sureObj.class);obj.sureObj.msgClass&&$('.xr_dialog_confirm .xr_dialog .xr_dialog_hd').addClass(obj.sureObj.msgClass)}if(typeof obj.width!='undefined'){$('.xr_dialog_confirm .xr_dialog').css('width',obj.width+'%')}else{$('.xr_dialog_confirm .xr_dialog').css('width','85%')}if(typeof obj.positions!='undefined'){$('.xr_dialog_confirm .xr_dialog').addClass(obj.positions)}else{$('.xr_dialog_confirm .xr_dialog').addClass('xr_dialog_mid')}$(".xr_dialog_confirm").show();$(document).off("xrConfirm_modal:hide").one("xrConfirm_modal:hide",function(e){maskIsHide=true;$(".xr_dialog_confirm").hide();$(".xr_dialog_confirm").remove()});$('.xr_dialog_confirm .xr_dialog_ft .xrdefault,.xr_dialog_confirm .xr_dialog_ft .xrprimary').off('click').one('click',function(e){e.preventDefault();$(document.body).trigger("xrConfirm_modal:hide");if($(e.target).hasClass('xrprimary')){$(document.body).trigger('xrConfirm_modal:sure')}if($(e.target).hasClass('xrdefault')){$(document.body).trigger('xrConfirm_modal:close')}})}function xrAlert(obj){maskIsHide=false;xrModalShow('xr_dialog_alert');$(".xr_dialog_alert .xr_dialog .xr_dialog_bd").html(obj.msg);if(typeof obj.width!='undefined'){$('.xr_dialog_alert .xr_dialog').css('width',obj.width+'%')}else{$('.xr_dialog_alert .xr_dialog').css('width','85%')}if(typeof obj.positions!='undefined'){$('.xr_dialog_alert .xr_dialog').addClass(obj.positions)}else{$('.xr_dialog_alert .xr_dialog').addClass('xr_dialog_mid')}$(".xr_dialog_alert").show();if(typeof obj.hdMsg!="undefined"&&""!=obj.hdMsg){$('.xr_dialog_alert .xr_dialog .xr_dialog_hd').show();$('.xr_dialog_alert .xr_dialog .xr_dialog_hd .xr_dialog_title').html(obj.hdMsg)}else{$('.xr_dialog_alert .xr_dialog .xr_dialog_hd').hide()}if(typeof obj.sureObj!="undefined"){sureObj.text&&$('.xr_dialog_alert .xr_dialog_ft .xrprimary').text(obj.sureObj.text);sureObj.class&&$('.xr_dialog_alert .xr_dialog_ft .xrprimary').addClass(obj.sureObj.class);sureObj.msgClass&&$('.xr_dialog_alert .xr_dialog .xr_dialog_bd').addClass(obj.sureObj.msgClass)}$(document).off("xrAlertMid_modal:hide").one("xrAlertMid_modal:hide",function(e){maskIsHide=true;$(".xr_dialog_alert").hide();$(".xr_dialog_alert").remove();if(typeof(obj.callback)=='function')setTimeout(obj.callback,0)});$('.xr_dialog_alert .xr_dialog_ft .xrprimary').off('click').one('click',function(e){e.preventDefault();$(document.body).trigger("xrAlertMid_modal:hide")})}function xrMoreConfirmBot(obj){maskIsHide=false;xrModalShow('xr_more_confirm');if(typeof obj.sureObj!="undefined"){$(".xr_more_confirm .xr_btns .xr_btn_cancel").before(obj.sureObj)}$(".xr_more_confirm").show();$(".xr_more_confirm .xr_dialog2").animate({bottom:"0px"},250);$(document).off("xr_more_confirm_modal:hide").one("xr_more_confirm_modal:hide",function(e){maskIsHide=true;$(".xr_more_confirm .xr_mask").animate({opacity:"0"},250);var height='-'+$(".xr_more_confirm .xr_dialog2").height()+'px';$(".xr_more_confirm .xr_dialog2").animate({bottom:height},250,function(){$(".xr_more_confirm").hide();$(".xr_more_confirm").remove()})});var closeObj='.xr_mask,.xr_btn_cancel,.xr_btn_confirm';if(typeof obj.onlyBtnClose!="undefined"&&obj.onlyBtnClose==true){closeObj='.xr_btn_cancel,.xr_btn_confirm'}$('.xr_more_confirm').off('click').one('click',closeObj,function(e){e.preventDefault();$(document.body).trigger("xr_more_confirm_modal:hide");if(!$(this).hasClass('xr_btn_confirm')&&typeof obj.callback=='function'){obj.callback()}})}/**
 * Created by xrain on 16/3/18.
 */
